<div>
    <i-button @click="addNew">新建采购单</i-button>
    <i-button @click="searchInfo">刷新</i-button>
    <i-table v-bind:columns="purchaseTableInfo.Columns" v-bind:data="purchaseTableInfo.Data" v-bind:loading="purchaseTableInfo.loading"></i-table>
    <Modal title="新增采购单"
           v-model="insertModal.isShow"
           v-bind:width="900">
        <i-Form ref="formItem" v-bind:model="insertModal.data" v-bind:label-width="100">
            <Form-Item label="采购单号" prop="PurchaseNo">
                <i-Input v-model="insertModal.data.PurchaseNo" placeholder="请输入收货单位"></i-Input>
            </Form-Item>
        </i-Form>
        <div slot="footer">
            <i-Button type="primary" v-bind:loading="insertModal.loading" @click="insertPurchase">录入</i-Button>
        </div>
    </Modal>
    <Modal title="添加材料"
           v-model="insertProductModal.isShow"
           v-bind:width="900">
        <i-Form ref="formItem" v-bind:model="insertProductModal.data" v-bind:label-width="100">
            <Form-Item label="材料信息" prop="Number">
                <div v-if="JSON.stringify(insertProductModal.productInfo)  != '{}'">
                    <span>{{insertProductModal.productInfo.Material}}</span>
                </div>
                <proselector @callback="selectorCallBack"></proselector>
            </Form-Item>
            <Form-Item label="数量" prop="Number">
                <Input-Number v-model="insertProductModal.data.Number" style="{width:'200px'}"></Input-Number>
            </Form-Item>
        </i-Form>
        <div slot="footer">
            <i-Button type="primary" v-bind:loading="insertProductModal.loading" @click="insertPurchaseProduct">添加</i-Button>
        </div>
    </Modal>
</div>